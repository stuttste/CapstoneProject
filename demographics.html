<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>User Demographics</title>

		
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" charset= "utf-8"></script>
	
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dc/1.7.3/dc.css">
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.11/crossfilter.js" charset="utf-8"></script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/dc/1.7.3/dc.js" charset= "utf-8"></script>
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

	</head>
	<body>
		
		<nav class="navbar navbar-inverse sidebar" role="navigation">
			<div class="container-fluid">
				<div class="collapse navbar-collapse" id="bs-sidebar-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active"><a href="index.php">Homepage<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-home"></span></a></li>
						<li ><a href="UserSubmit.html">User Submission<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a></li>
						<li ><a href="AdminToolsPage.php">Administration Tools<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a></li>
						<li ><a href="CutPage.html">Cut Results<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a></li>
						<li ><a href="EditAccount.html">Edit Account<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-envelope"></span></a></li>
						<li ><a href="LicensePage.html">License Page<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a></li>
							<li ><a href="demographics.html">Demographics<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a></li>
					</ul>
					<ul class="nav navbar-nav pull-right">
						<li ><a href="includes/logout.php">Log Out<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-log-out"></span></a></li>
					</ul>
				</div>
			</div>
		</nav>
<script>
d3.csv("/var/lib/mysql/data/Demo.csv", function (demo) {
var pieChart = dc.pieChart("#dc-pie-graph");
var univChart = dc.pieChart("#dc-Univ-graph");
var dataTable = dc.dataTable("#dc-table-graph");
var cfx = crossfilter(demo);
    var startValue = cfx.dimension(function (d) {
        return d.State});
    var startValueGroup = startValue.group();
    var startValueU = cfx.dimension(function (d) {
        return d.University});
    var startValueGroupU = startValueU.group();

	var tDimension = cfx.dimension(function (d) { return d} );
   pieChart.width(400)
        .height(400)
        .transitionDuration(1500)
        .dimension(startValue)
        .group(startValueGroup)
        .radius(150)
		.label(function(d) { return d.key; })
        .legend(dc.legend().x(400).y(10).itemHeight(13).gap(5))
   univChart.width(400)
        .height(400)
        .transitionDuration(1500)
        .dimension(startValueU)
        .group(startValueGroupU)
        .radius(150)
		.label(function(d) { return d.key; })
        .legend(dc.legend().x(400).y(10).itemHeight(13).gap(5))
	dataTable.width(800)
	.height(800)
    .dimension(tDimension)
    .group(function(d) { return d;})
    .size(150)
	.columns([
        function(d) { return d.LName; },
        function(d) { return d.University; },
        function(d) { return d.State; }
    ]);

	
	dc.renderAll();})
		</script>
	<div class="container-fluid">
	  <div class='row-fluid'>
								<div class='pie-graph span4' id='dc-pie-graph'>
									<h4>Division by State(Pie)</h4>
								</div>
							   <div class='row-fluid'>
									<div class='pie-graph span4 col-md-5' id='dc-Univ-graph'>
									<h4>Division by University(Pie)</h4>
									</div>
								</div>
								   <div class='row-fluid'>
								<div class='span12 table-graph col-md-5'>
									<h4>Data Table for User info (Sorted by join order)</h4>
									<table class='table table-hover dc-data-table' id='dc-table-graph'>
										<thead>
											<tr class='header'>
												<th>Last name</th>
												<th>University</th>
												<th> State </th>
											</tr>
										</thead>
									</table>
								</div>
							</div>
						</div>
		</div>
	</div>